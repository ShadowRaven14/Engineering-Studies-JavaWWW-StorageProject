<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Aktualizacja Użytkownika</title>

  <link rel="stylesheet"
        href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
        integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
        crossorigin="anonymous">

  <style>
    .background {
        background-image: url('https://img.freepik.com/darmowe-wektory/recznie-malowane-akwarela-pastelowe-niebo-w-tle_23-2148902771.jpg?w=2000');
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        position: relative;
        min-height: 100vh;
    }
    .footer-fragment {
      position: absolute;
    }
  </style>
</head>


<body class="background" style="margin-top: 100px">

<!--MENU-->
<div th:replace="fragments/topnav :: navbar"></div>

<div class="container">
  <h1>Aktualizacja użytkownika</h1>
  <hr>
  <h2>Aktualizuj użytkownika</h2>

  <form action="#" th:action="@{/saveUserUpdate}" th:object="${user}" method="POST">

    <!-- Add hidden form field to handle update -->
    <input type="hidden" th:field="*{id}" />

    <label>
      Imię:
    </label>
    <input type="text" th:field = "*{name}" class="form-control mb-4 col-4">
    <ul>
      <li th:each="err : ${#fields.errors('name')}" th:text="${err}" class="error" />
    </ul>

    <label>
      Nazwisko:
    </label>
    <input type="text" th:field = "*{surname}" class="form-control mb-4 col-4">
    <ul>
      <li th:each="err : ${#fields.errors('surname')}" th:text="${err}" class="error" />
    </ul>

    <label>
      Login:
    </label>
    <input type="text" th:field = "*{login}" class="form-control mb-4 col-4">
    <ul>
      <li th:each="err : ${#fields.errors('login')}" th:text="${err}" class="error" />
    </ul>

    <label>
      Hasło:
    </label>
    <input type="text" id="passwordInput" th:field = "*{password}" class="form-control mb-4 col-4">
    <ul>
      <li th:each="err : ${#fields.errors('password')}" th:text="${err}" class="error" />
    </ul>


    <label>
      Wiek:
    </label>
    <input type="text" th:field = "*{age}" class="form-control mb-4 col-4">
    <ul>
      <li th:each="err : ${#fields.errors('age')}" th:text="${err}" class="error" />
    </ul>

    <hr>
    <button id="btn" th:onclick="test()" type="submit" class="btn btn-info col-2">Aktualizuj użytkownika</button>
  </form>

  <hr>
  <b><a th:href = "@{/users}">Powrót do listy użytkowników</a></b>
</div>

<!--FOOTER-->
<div th:replace="fragments/botfooter :: footer"></div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
</body>
</html>